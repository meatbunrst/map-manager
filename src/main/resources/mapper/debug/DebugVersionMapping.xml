<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cn.modules.debug.dao.DebugVersionDao">

    <resultMap id="BaseResultMap" type="com.cn.modules.debug.entity.DebugVersionEntity">
        <result column="id" property="id" />
        <result column="name" property="name" />
        <result column="code" property="code" />
        <result column="start_date" property="startDate" />
        <result column="end_date" property="endDate" />
        <result column="sum_workday" property="sumWorkday" />
        <result column="status" property="status" />
        <result column="create_date" property="createDate" />
        <result column="create_by" property="createBy" />
        <result column="Project_id" property="projectId" />
        <result column="describe" property="describe" />
    </resultMap>


    <delete id="deleteByModel">
        delete t from DEBUG_VERSION t
        <where>
            <include refid="select_content"/>
        </where>
    </delete>

    <select id="selectCountByModel" resultType="int">
        select count(1) from DEBUG_VERSION t
        <where>
            <include refid="select_content"/>
        </where>
    </select>

    <select id="selectListModel" resultMap="BaseResultMap">
        select * from DEBUG_VERSION t
        <where>
            <include refid="select_content"/>
        </where>
    </select>

    <select id="selectPage" resultMap="BaseResultMap">
        select * from DEBUG_VERSION t
        <where>
            <include refid="select_content"/>
             ${ew.sqlSegment}
        </where>
    </select>

    <select id="queryPage" resultMap="BaseResultMap">
        select * from DEBUG_VERSION t
        <where>
            ${ew.sqlSegment}
        </where>
    </select>

    <sql id="select_content">
        <if test="e.id != null and e.id != '' ">
            AND t.ID = #{e.id}
        </if>
        <if test="e.name != null and e.name != '' ">
            AND t.NAME = #{e.name}
        </if>
        <if test="e.code != null and e.code != '' ">
            AND t.CODE = #{e.code}
        </if>
        <if test="e.startDate != null and e.startDate != '' ">
            AND t.START_DATE = #{e.startDate}
        </if>
        <if test="e.endDate != null and e.endDate != '' ">
            AND t.END_DATE = #{e.endDate}
        </if>
        <if test="e.sumWorkday != null and e.sumWorkday != '' ">
            AND t.SUM_WORKDAY = #{e.sumWorkday}
        </if>
        <if test="e.status != null and e.status != '' ">
            AND t.STATUS = #{e.status}
        </if>
        <if test="e.createDate != null and e.createDate != '' ">
            AND t.CREATE_DATE = #{e.createDate}
        </if>
        <if test="e.createBy != null and e.createBy != '' ">
            AND t.CREATE_BY = #{e.createBy}
        </if>
        <if test="e.projectId != null and e.projectId != '' ">
            AND t.PROJECT_ID = #{e.projectId}
        </if>
        <if test="e.describe != null and e.describe != '' ">
            AND t.DESCRIBE = #{e.describe}
        </if>
    </sql>

</mapper>
